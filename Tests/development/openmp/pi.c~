#include <omp.h>
#include <stdio.h>
static long num_steps = 100000000;
#define NUM_THREADS 2
double step;


void main ()
{ 
  double pi;
  double x, sum;
  int i;
  step = 1.0/(double) num_steps;
  #pragma omp parallel
  {
    double x;
    #pragma omp for reduction(+:sum) 
    for (i=0; i< num_steps; i++){
      x = (i+0.5)*step;
      sum = sum + 4.0/(1.0+x*x);
    }
    pi = step * sum;
    printf("%f\n", pi);
  }
}
